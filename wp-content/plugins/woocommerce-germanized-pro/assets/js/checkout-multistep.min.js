jQuery(function(a){a("#payment-manual").length?(a("#payment-manual").wrap('<div id="order-payment"></div>'),a("#order_payment_heading").insertBefore("#payment-manual")):(a("#payment").wrap('<div id="order-payment"></div>'),a("#order_payment_heading").insertBefore("#payment")),a("#order_review > #order-payment ~ *").wrapAll('<div id="order-verify"></div>'),a("#order_review_heading").prependTo("#order-verify"),a.each(steps,function(b,c){a(c.selector).length&&(a(c.selector).wrap('<div class="'+multistep.wrapper+" "+c.wrapper_classes.join(" ")+'" id="step-wrapper-'+c.id+'" data-id="'+c.id+'"></div>'),c.submit_html&&a("#step-wrapper-"+c.id).append(c.submit_html))}),a(".step-wrapper").hide(),a(document).ajaxComplete(function(b,c,d){null!=c&&c.hasOwnProperty("responseJSON")&&c.responseJSON.hasOwnProperty("fragments")&&c.responseJSON.fragments.hasOwnProperty(".woocommerce-gzpd-checkout-verify-data")&&(a(".woocommerce-gzpd-checkout-verify-data").replaceWith(c.responseJSON.fragments[".woocommerce-gzpd-checkout-verify-data"]),a(".step-nav").replaceWith(c.responseJSON.fragments[".step-nav"]),a("ul.step-nav li a").each(function(){var b=a(this).data("href");c.responseJSON.fragments.hasOwnProperty(".step-buttons-"+b)&&a(".step-buttons-"+b).replaceWith(c.responseJSON.fragments[".step-buttons-"+b])}))}),a(document).on("click",".step, .step-trigger",function(){if(!a(this).attr("href"))return!1;var b=a(this).data("href");a("body").trigger("wc_gzdp_show_step",a(this)),a(".step-"+b).trigger("change",a(this))}),a(document).on("change",".step",function(b,c){var d=a(this).data("href");a("#step-wrapper-"+d).length&&(void 0!==c&&a(".woocommerce-error").remove(),a(".step-nav").find(".active").removeClass("active"),a(this).parents("li").addClass("active"),a(this).attr("href","#step-"+a(this).data("href")),a(".step-wrapper").hide(),a(".step-wrapper").removeClass("step-wrapper-active"),a("#step-wrapper-"+d).show(),a("#step-wrapper-"+d).addClass("step-wrapper-active"),a("body").removeClass(function(a,b){return(b.match(/(^|\s)woocommerce-multistep-checkout-active-\S+/g)||[]).join(" ")}),a("body").addClass("woocommerce-multistep-checkout-active-"+d),a("body").trigger("wc_gzdp_step_changed",a(this)))}),a(".step-nav li a.step:first").trigger("change"),a(document).on("refresh",".step-wrapper",function(){a(this).find(".step-buttons").length&&(a(this).find(".step-buttons").prepend('<input type="hidden" id="wc-gzdp-step-submit" name="wc_gzdp_step_submit" value="'+a(this).data("id")+'" />'),a("body").bind("checkout_error",function(b){a("#wc-gzdp-step-submit").remove(),a("body").trigger("wc_gzdp_step_refreshed"),a("body").unbind("checkout_error")}))}),a(document).on("click",".next-step-button",function(b){var c=a(this).data("next");a(this).data("current");a(this).parents(".step-wrapper").hasClass("no-ajax")?(a(".step-"+c).trigger("change",a(".step-"+c)),b.preventDefault(),b.stopPropagation()):(a(document.body).bind("updated_checkout",function(){a(document).find(".woocommerce-checkout-payment .blockUI").length&&a(document).find(".woocommerce-checkout-payment").unblock()}),a(this).parents(".step-wrapper").trigger("refresh"),a("body").bind("wc_gzdp_step_refreshed",function(){0==a(".woocommerce-error").length&&a(".step-"+c).trigger("change",a(".step-"+c)),a("body").unbind("wc_gzdp_step_refreshed")}))})});